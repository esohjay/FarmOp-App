<% let nameFilter=[]; %> <% let eventFilter=[]; %>  

  
 
<div class="ui form">
  <form action="/cropevent" method="GET">
  <div class="fields">
    <div class="field">
      <label>From</label>
      <input type="date" value="<%=
                  query.date ? query.date.from : '' %>" name="date[from]">
    </div>
    <div class="field">
      <label>To</label>
     <div class="ui action input">
        <input type="date" value="<%=
                  query.date ? query.date.to : '' %>" name="date[to]">
  <button class="ui icon btn2  button">
    <i class="search icon"></i>
  </button>
</div>
    </div>
   
  </div>
  
  </form>
</div>
    
  
 

<!--
   <div class="ui labeled icon top right pointing dropdown right floated btn button">
  <i class="sliders horizontal icon"></i>
  <span class="text">Sort</span>
  <div class="menu">
    
    <div class="header">
      <i class="calendar alternate outline icon"></i>
     Sort by Date  </a>
    </div>
    <div class="item">
      <i class="sort up icon"></i>
    <a class="ui sort-link" href="/cropevent?asc=asc ">  Asc</a>
    </div>
    
    <div class="item">
      <i class="sort down icon"></i>
      <a class="ui sort-link" href="/cropevent?des=des">Desc </a>
    </div>
    <div class="divider"></div>
   
    <div class="item">
      <i class="sitemap icon"></i>
     <a class="ui sort-link" href="/cropevent?byname=byname">Name</a>
    </div>
    <div class="item">
      <i class="tags icon"></i>
     <a class="ui sort-link" href="/cropevent?bycategory=bycategory">Category </a>
    </div>
    
  </div>
</div>

-->


  
    <div class="ui accordion">
      <div class="title">
        <a class="ui green btn button">Filter</a>
      </div>
      <div class="content">
        <div class="ui grid">
          <div class="ui eleven wide column">
            <form action="/cropevent" method="GET">
              <div class="ui segments">
                <div class="ui horizontal segments">
                  <div class="ui segment">
                  <p>Name</p>
                  <% names.forEach(function(name, i) { %> <%
                  if(!nameFilter.includes(name)) {%> <% nameFilter.push(name) %>
                  <div class="field">
                    <div class="ui checkbox">
                      <input
                        type="checkbox"
                        class="hidden"
                        name="name[]"
                        value="<%= name %>"
                      />
                      <label for="name"><%= name %></label>
                      <br />
                    </div>
                  </div>

                  <% } %> <% } )%>
                </div>
                 <div class="ui segment">
                  <p>Event</p>
                  <% for(let cropEvent of  cropEvents) {%> <%
                  if(!eventFilter.includes(cropEvent)) {%> <%
                  eventFilter.push(cropEvent) %>
                  <div class="field">
                    <div class="ui checkbox">
                      <input
                        type="checkbox"
                        class="hidden"
                        name="event[]"
                        value="<%= cropEvent %>"
                        <%= query.event && query.event.includes( cropEvent ) ? 'checked' : '' %>
                      />
                      <label for="category"><%= cropEvent %></label>
                      <br />
                    </div>
                  </div>

                  <% } %> <% } %>
                </div>
    
                 </div>
          
   
              </div>
               <a class="ui btn2 button" href="/cropevent">Reset</a>
              <button class="ui btn button" type="submit">Submit</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

